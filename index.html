<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What The Sigma</title>
    <link rel="stylesheet" href="styles/home.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>

<body>

    <header>
        <a href="index.html" class="logo">Good Recipe, Great Recipe</a>

        <nav class="nav-links">
            <a href="dishes.html">Dishes</a>
            <a href="about.html">About</a>
            <a href="services.html">Services</a>
            <a href="contacts.html">Contact</a>

        </nav>

        <div class="search-container">
            <form action="#" onsubmit="return false;">
                <input type="search" id="search-input" placeholder="Search here...">
                <button type="submit" class="search-button">
                    <i class="fa fa-search"></i>
                </button>
            </form>
        </div>

        <div class="auth-links">
            <a href="register.html" class="login">Log In</a>
            <a href="register.html" class="signup">Sign Up</a>
        </div>
    </header>

    <section class="country-section">
        <h2>Explore Recipes by Country</h2>
        <div class="country-grid">
            <a href="brazil.html" class="country-card">
                <img src="images/brazil-flag.png">
                <h3>Brazil</h3>
            </a>
            <a href="france.html" class="country-card">
                <img src="images/france-flag.png">
                <h3>France</h3>
            </a>
            <a href="japan.html" class="country-card">
                <img src="images/japan-flag.png" />
                <h3>Japan</h3>
            </a>
            <a href="india.html" class="country-card">
                <img src="images/india-flag.png">
                <h3>India</h3>
            </a>
            <a href="philippines.html" class="country-card">
                <img src="images/philippine_flag.jpg">
                <h3>Philippines</h3>
            </a>
        </div>
    </section>

    <section class="latest-recipes">
        <h2 class="section-title">
            <span class="icon">üç∞</span>
            Latest Recipes
        </h2>

        <div class="recipes-grid">
            <!-- Blini -->
            <div class="recipe-card">
                <a href="blini.html">
                    <div class="image-container">
                        <img src="images/blini.jpg" alt="Blini">
                        <div class="overlay">
                            <div class="top-left">8 min read</div>
                            <div class="bottom-info">
                                <h3 class="recipe-title">Blini</h3>
                                <hr class="white-line">
                                <p>Light Russian pancakes served with sour cream and fresh berries.</p>
                                <div class="icons">
                                    <span>üëÅÔ∏è 90</span>
                                    <span>üí¨ 8</span>
                                    <span class="like">‚ù§Ô∏è</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>


            <!-- Brownies -->
            <div class="recipe-card">
                <a href="brownies.html">
                    <div class="image-container">
                        <img src="images/brownies.jpg" alt="Brownies">
                        <div class="overlay">
                            <div class="top-left">2 min read</div>
                            <div class="bottom-info">
                                <h3 class="recipe-title">Brownies</h3>
                                <hr class="white-line">
                                <p>Rich, fudgy chocolate brownies with a crackly top and walnuts.</p>
                                <div class="icons">
                                    <span>üëÅÔ∏è 10</span>
                                    <span>üí¨ 3</span>
                                    <span class="like">‚ù§Ô∏è</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>

            <!-- Mango Sticky Rice -->
            <div class="recipe-card">
                <a href="mango.html">
                    <div class="image-container">
                        <img src="images/mango sticky rice.jpg" alt="Mango Sticky Rice">
                        <div class="overlay">
                            <div class="top-left">3 min read</div>
                            <div class="bottom-info">
                                <h3 class="recipe-title">Mango Sticky Rice</h3>
                                <hr class="white-line">
                                <p>Sweet coconut-infused sticky rice topped with fresh mango.</p>
                                <div class="icons">
                                    <span>üëÅÔ∏è 15</span>
                                    <span>üí¨ 5</span>
                                    <span class="like">‚ù§Ô∏è</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>

            <!-- Leche Flan -->
            <div class="recipe-card">
                <a href="leche_flan.html">
                    <div class="image-container">
                        <img src="images/leche flan.jpg" alt="Leche Flan">
                        <div class="overlay">
                            <div class="top-left">1 min read</div>
                            <div class="bottom-info">
                                <h3 class="recipe-title">Leche Flan</h3>
                                <hr class="white-line">
                                <p>Creamy caramel custard‚ÄîPhilippines‚Äô beloved sweet treat.</p>
                                <div class="icons">
                                    <span>üëÅÔ∏è 6</span>
                                    <span>üí¨ 1</span>
                                    <span class="like">‚ù§Ô∏è</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>

            <!-- Pasteis de Nata -->
            <div class="recipe-card">
                <a href="pasteis_de_nata.html">
                    <div class="image-container">
                        <img src="images/pasteis de nata.jpg" alt="Pasteis de Nata">
                        <div class="overlay">
                            <div class="top-left">2 min read</div>
                            <div class="bottom-info">
                                <h3 class="recipe-title">Pasteis de Nata</h3>
                                <hr class="white-line">
                                <p>Portugal‚Äôs famous egg custard tarts in flaky pastry shells.</p>
                                <div class="icons">
                                    <span>üëÅÔ∏è 8</span>
                                    <span>üí¨ 2</span>
                                    <span class="like">‚ù§Ô∏è</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>

            <!-- Stephanie Roast -->
            <div class="recipe-card">
                <a href="stephanie_roast.html">
                    <div class="image-container">
                        <img src="images/stephanie roast.jpeg" alt="Stephanie Roast">
                        <div class="overlay">
                            <div class="top-left">4 min read</div>
                            <div class="bottom-info">
                                <h3 class="recipe-title">Stephanie Roast</h3>
                                <hr class="white-line">
                                <p>Juicy herb-crusted roast beef with garlic and rosemary.</p>
                                <div class="icons">
                                    <span>üëÅÔ∏è 12</span>
                                    <span>üí¨ 4</span>
                                    <span class="like">‚ù§Ô∏è</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>

        </div>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const searchInput = document.getElementById('search-input');
            const recipeCards = document.querySelectorAll('.recipe-card');
            const countryCards = document.querySelectorAll('.country-card');

            const countrySection = document.querySelector('.country-section');
            const latestRecipesSection = document.querySelector('.latest-recipes');

            const knownItems = [
                "blini", "brownies", "mango sticky rice", "leche flan", "pasteis de nata", "stephanie roast",
                "brazil", "france", "japan", "india", "philippines",
                "adobo", "ratatouille", "carbonara", "paella", "sushi", "tandoori chicken"
            ];

            const searchForm = document.querySelector('.search-container form');
            searchForm.addEventListener('submit', function (e) {
                e.preventDefault();
                const searchText = searchInput.value.trim().toLowerCase();

                let found = false;

                recipeCards.forEach(card => {
                    const titleElement = card.querySelector('.recipe-title');
                    if (!titleElement) return;

                    const title = titleElement.textContent.toLowerCase();
                    if (title.includes(searchText)) {
                        found = true;
                    }
                });

                countryCards.forEach(card => {
                    const countryNameElement = card.querySelector('h3');
                    if (!countryNameElement) return;

                    const countryName = countryNameElement.textContent.toLowerCase();
                    if (countryName.includes(searchText)) {
                        found = true;
                    }
                });

                // If found in current page, just filter
                if (found) {
                    filterDisplayedCards(searchText);
                } else if (searchText !== '' && knownItems.some(item => item.includes(searchText))) {
                    // If not found but known, redirect
                    window.location.href = `search.html?query=${encodeURIComponent(searchText)}`;
                } else {
                    // Optional: if totally not known, alert user or stay
                    alert("No results found!");
                }
            });

            searchInput.addEventListener('input', function () {
                const searchText = searchInput.value.trim().toLowerCase();
                filterDisplayedCards(searchText);
            });

            function filterDisplayedCards(searchText) {
                let anyRecipeVisible = false;
                let anyCountryVisible = false;

                recipeCards.forEach(card => {
                    const titleElement = card.querySelector('.recipe-title');
                    if (!titleElement) return;

                    const title = titleElement.textContent.toLowerCase();
                    if (title.includes(searchText)) {
                        card.style.display = '';
                        anyRecipeVisible = true;
                    } else {
                        card.style.display = 'none';
                    }
                });

                countryCards.forEach(card => {
                    const countryNameElement = card.querySelector('h3');
                    if (!countryNameElement) return;

                    const countryName = countryNameElement.textContent.toLowerCase();
                    if (countryName.includes(searchText)) {
                        card.style.display = '';
                        anyCountryVisible = true;
                    } else {
                        card.style.display = 'none';
                    }
                });

                countrySection.style.display = anyCountryVisible ? '' : 'none';
                latestRecipesSection.style.display = anyRecipeVisible ? '' : 'none';
            }
        });
    </script>


</body>

</html>